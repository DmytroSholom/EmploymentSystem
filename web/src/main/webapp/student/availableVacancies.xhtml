<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/WEB-INF/templates/default.xhtml"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="sideMenu">
        <ui:include src="StudentSideMenu.xhtml"></ui:include>
    </ui:define>
    <ui:define name="content">
        <h:form>
            <h:panelGrid columns="5"  style="margin-bottom:10px" cellpadding="5">
                <p:outputLabel for="category" value="Категорія:"/>
                <p:selectOneMenu id="category" style="width: 100px;">
                    <f:selectItem itemLabel="Select One" itemValue="sss"/>
                    <f:selectItem itemLabel="Xbox One" itemValue="sXbox One"/>
                    <f:selectItem itemLabel="PS4" itemValue="sPS4"/>
                    <f:selectItem itemLabel="Wii U" itemValue="sWii U"/>
                </p:selectOneMenu>
                <p:outputLabel for="company" value="Компанія:"/>
                <p:selectOneMenu id="company" style="width: 100px;">
                    <f:selectItem itemLabel="Select One" itemValue="sss"/>
                    <f:selectItem itemLabel="Xbox One" itemValue="sXbox One"/>
                    <f:selectItem itemLabel="PS4" itemValue="sPS4"/>
                    <f:selectItem itemLabel="Wii U" itemValue="sWii U"/>
                </p:selectOneMenu>
                <p:commandButton value="Відфльтрувати"></p:commandButton>
            </h:panelGrid>
        </h:form>
        <h:form>
			<ui:repeat var="vacancy" value="#{avaliableVacancyContoller.vacancies}" varStatus="status">
				<p:panel id="toggleable" header="#{vacancy.title}" toggleable="true"
					closable="true" toggleSpeed="500" closeSpeed="500"
					widgetVar="#{status.count}" style="margin-bottom:20px; position:relative">

					<p:ajax event="close" />
					<p:ajax event="toggle" />
					
					<h:panelGrid columns="2" cellpadding="10">
						<img src="/EmploymentSystem-web/resources/kobe.png" width="100"
							height="110" />
						<h:panelGrid columns="2" cellpadding="10">
								<h:panelGrid columns="2" cellpadding="10">
									<h:outputText value="Компанія: " style="font-family:Zapf Chancery; font-size: 15px;"/>
									<h:outputText value="#{vacancy.company.title}"
										styleClass="outputLabel" />
									<h:outputText value="Зайнятість: " style="font-family:Zapf Chancery; font-size: 15px;"/>
									<h:outputText value="#{vacancy.occupTime}"
										styleClass="outputLabel" />
								</h:panelGrid>
								<h:panelGrid columns="2" cellpadding="10">
									<h:outputText value="Дата створення: " style="font-family:Zapf Chancery; font-size: 15px;" />
									<h:outputText value="#{vacancy.creationDate}" />
									<h:outputText value="Зарплата: " style="font-family:Zapf Chancery; font-size: 15px;"/>
									<h:outputText value="#{vacancy.salary}"/>
								</h:panelGrid>
						</h:panelGrid>
					</h:panelGrid>
					<p:button value="Переглянути" outcome="viewVacancy.xhtml" style="position: absolute; bottom:10px; right:10px">
						<f:param name="vacancyId" value="#{vacancy.id}" />
					</p:button>

					<f:facet name="options">
						<p:menu>
							<p:submenu label="Settings">
								<p:menuitem value="Toggle" url="#" icon="ui-icon-newwin"
									onclick="PF('panel').toggle()" />
								<p:menuitem value="Remove" url="#" icon="ui-icon-close"
									onclick="PF('panel').close()" />
							</p:submenu>
						</p:menu>
					</f:facet>
					
				</p:panel>
			</ui:repeat>
			
			<p:panel id="toggleable" header="Вакансія" toggleable="true" closable="true" toggleSpeed="500"
                     closeSpeed="500" widgetVar="panel" style="margin-bottom:20px">

                <p:ajax event="close"/>
                <p:ajax event="toggle"/>

                <h:panelGrid columns="2" cellpadding="10">
                    <img src="/EmploymentSystem-web/resources/kobe.png" width="100" height="110"/>
                    <h:outputText value="#{userBean.loremIpsum}"/>
                </h:panelGrid>

                <f:facet name="options">
                    <p:menu>
                        <p:submenu label="Settings">
                            <p:menuitem value="Toggle" url="#" icon="ui-icon-newwin" onclick="PF(#{status.count}).toggle()"/>
                            <p:menuitem value="Remove" url="#" icon="ui-icon-close" onclick="PF(#{status.count}).close()"/>
                        </p:submenu>
                    </p:menu>
                </f:facet>
            </p:panel>

            <p:panel id="toggleable1" header="Вакансія" toggleable="true" closable="true" toggleSpeed="500"
                     closeSpeed="500" widgetVar="panel2" style="margin-bottom:20px">

                <p:ajax event="close"/>
                <p:ajax event="toggle"/>

                <h:panelGrid columns="2" cellpadding="10">
                    <img src="/EmploymentSystem-web/resources/kobe.png" width="100" height="110"/>
                    <h:outputText value="#{userBean.loremIpsum}"/>
                </h:panelGrid>

                <f:facet name="options">
                    <p:menu>
                        <p:submenu label="Settings">
                            <p:menuitem value="Toggle" url="#" icon="ui-icon-newwin" onclick="PF('panel2').toggle()"/>
                            <p:menuitem value="Remove" url="#" icon="ui-icon-close" onclick="PF('panel2').close()"/>
                        </p:submenu>
                    </p:menu>
                </f:facet>
            </p:panel>

            <p:panel id="toggleable2" header="Вакансія" toggleable="true" closable="true" toggleSpeed="500"
                     closeSpeed="500" widgetVar="panel3" style="margin-bottom:20px">

                <p:ajax event="close"/>
                <p:ajax event="toggle"/>

                <h:panelGrid columns="2" cellpadding="10">
                    <img src="/EmploymentSystem-web/resources/kobe.png" width="100" height="110"/>
                    <h:outputText value="#{userBean.loremIpsum}"/>
                </h:panelGrid>

                <f:facet name="options">
                    <p:menu>
                        <p:submenu label="Settings">
                            <p:menuitem value="Toggle" url="#" icon="ui-icon-newwin" onclick="PF('panel3').toggle()"/>
                            <p:menuitem value="Remove" url="#" icon="ui-icon-close" onclick="PF('panel3').close()"/>
                        </p:submenu>
                    </p:menu>
                </f:facet>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>
